const progressBar = document.querySelector('.progress-bar');
const progressText = document.getElementById('progressText');
const progressStatus = document.getElementById('progressStatus');
const effectueBtn = document.getElementById('effectueBtn');
const debloquerBtn = document.getElementById('debloquerBtn');
const formulaire = document.getElementById('formulaire');
const circumference = 2 * Math.PI * 70; // r=70

progressBar.style.strokeDasharray = circumference;
progressBar.style.strokeDashoffset = circumference;

let currentPercent = 0;
let intervalId = null;

function setProgress(percent) {
    const offset = circumference - (percent / 100) * circumference;
    progressBar.style.strokeDashoffset = offset;
    progressText.textContent = percent + '%';
}

// Lance la progression de 0 à 89%
effectueBtn.addEventListener('click', () => {
    if (intervalId) return; // Évite plusieurs clics
    currentPercent = 0;
    setProgress(currentPercent);
    progressStatus.textContent = '';
    intervalId = setInterval(() => {
        if (currentPercent >= 89) {
            clearInterval(intervalId);
            intervalId = null;
            progressStatus.textContent = 'Bloqué';
        } else {
            currentPercent++;
            setProgress(currentPercent);
        }
    }, 20);
});

// Débloquer les fonds
debloquerBtn.addEventListener('click', () => {
    progressStatus.textContent = 'Débloqué';
    currentPercent = 100;
    setProgress(currentPercent);
});

// Validation du formulaire
formulaire.addEventListener('submit', (e) => {
    const nom = document.getElementById('nom').value.trim();
    const prenom = document.getElementById('prenom').value.trim();
    const iban = document.getElementById('iban').value.trim();
    const email = document.getElementById('email').value.trim();
    const codepostal = document.getElementById('codepostal').value.trim();
    const pays = document.getElementById('pays').value.trim();
    const ville = document.getElementById('ville').value.trim();
    const telephone = document.getElementById('telephone').value.trim();

    if (nom === '' || prenom === '' || iban === '' || email === '' || codepostal === '' || pays === '' || ville === '' || telephone === '') {
        alert('Veuillez remplir tous les champs');
        e.preventDefault();
    }
});
```
